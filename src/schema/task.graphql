type Task {
  id: String!
  name: String!
  instructions: String!
  points: Int!
  startAt: Date
  endAt: Date
  dueDate: Date
  subMissionId: String
  objectiveId: String

  #might be other type of content
  pages: [Page]
}

type Page {
   blocks: [TaskBlock]
   canAdvanceBeforeRubricRequirementsComplete: Boolean
}

interface TaskBlock {
   title: String
   requirement: RubricRequirement
}

type RubricRequirement {
   id: String!
   description: String
   isComplete: Boolean
   pointValue: Int
}

type ImageBlock implements TaskBlock {
   title: String
   requirement: RubricRequirement
   imageUrl: String
}

type TextBlock implements TaskBlock {
   title: String
   requirement: RubricRequirement
   contents: String
   fontSize: Int!
}

type VideoBlock implements TaskBlock {
   title: String
   requirement: RubricRequirement
   videoUrl: String!
}

type Query {
  task(taskId: String): Task
  tasks(subMissionId: String): [Task]
}

input TaskInput {
  name: String!
  instructions: String!
  points: Int!
  startAt: Date
  endAt: Date
  dueDate: Date
  subMissionId: String
  objectiveId: String
  pages: [PageInput]
}

input PageInput {
   blocks: [TaskBlockInput]
   canAdvanceBeforeRubricRequirementsComplete: Boolean
}

enum TaskBlockInputType {
   TEXT,
   IMAGE,
   VIDEO
}

input TaskBlockInput {
   title: String
   requirement: RubricRequirementInput
   type: TaskBlockInputType!
   textBlock: TextBlockInput
   imageBlock: ImageBlockInput
   videoBlockInput: VideoBlockInput
}

input TextBlockInput {
   contents: String
   fontSize: Int!
}

input ImageBlockInput{
   imageUrl: String
}

input VideoBlockInput {
   videoUrl: String
}


input RubricRequirementInput {
   description: String
   isComplete: Boolean
   pointValue: Int
}

type Mutation {
  addTask(task: TaskInput): String
}
